// Code generated by goa v3.8.4, DO NOT EDIT.
//
// ProgLog endpoints
//
// Command:
// $ goa gen proglog/design

package proglog

import (
	"context"

	goa "goa.design/goa/v3/pkg"
)

// Endpoints wraps the "ProgLog" service endpoints.
type Endpoints struct {
	Procedure       goa.Endpoint
	Consume         goa.Endpoint
	ProcedureStream goa.Endpoint
	ConsumeStream   goa.Endpoint
}

// ProcedureStreamEndpointInput holds both the payload and the server stream of
// the "ProcedureStream" method.
type ProcedureStreamEndpointInput struct {
	// Stream is the server stream used by the "ProcedureStream" method to send
	// data.
	Stream ProcedureStreamServerStream
}

// ConsumeStreamEndpointInput holds both the payload and the server stream of
// the "ConsumeStream" method.
type ConsumeStreamEndpointInput struct {
	// Stream is the server stream used by the "ConsumeStream" method to send data.
	Stream ConsumeStreamServerStream
}

// NewEndpoints wraps the methods of the "ProgLog" service with endpoints.
func NewEndpoints(s Service) *Endpoints {
	return &Endpoints{
		Procedure:       NewProcedureEndpoint(s),
		Consume:         NewConsumeEndpoint(s),
		ProcedureStream: NewProcedureStreamEndpoint(s),
		ConsumeStream:   NewConsumeStreamEndpoint(s),
	}
}

// Use applies the given middleware to all the "ProgLog" service endpoints.
func (e *Endpoints) Use(m func(goa.Endpoint) goa.Endpoint) {
	e.Procedure = m(e.Procedure)
	e.Consume = m(e.Consume)
	e.ProcedureStream = m(e.ProcedureStream)
	e.ConsumeStream = m(e.ConsumeStream)
}

// NewProcedureEndpoint returns an endpoint function that calls the method
// "Procedure" of service "ProgLog".
func NewProcedureEndpoint(s Service) goa.Endpoint {
	return func(ctx context.Context, req interface{}) (interface{}, error) {
		p := req.(*ProduceRequest)
		res, err := s.Procedure(ctx, p)
		if err != nil {
			return nil, err
		}
		vres := NewViewedProduceresponse(res, "default")
		return vres, nil
	}
}

// NewConsumeEndpoint returns an endpoint function that calls the method
// "Consume" of service "ProgLog".
func NewConsumeEndpoint(s Service) goa.Endpoint {
	return func(ctx context.Context, req interface{}) (interface{}, error) {
		p := req.(*ConsumeRequest)
		res, err := s.Consume(ctx, p)
		if err != nil {
			return nil, err
		}
		vres := NewViewedConsumeresponse(res, "default")
		return vres, nil
	}
}

// NewProcedureStreamEndpoint returns an endpoint function that calls the
// method "ProcedureStream" of service "ProgLog".
func NewProcedureStreamEndpoint(s Service) goa.Endpoint {
	return func(ctx context.Context, req interface{}) (interface{}, error) {
		ep := req.(*ProcedureStreamEndpointInput)
		return nil, s.ProcedureStream(ctx, ep.Stream)
	}
}

// NewConsumeStreamEndpoint returns an endpoint function that calls the method
// "ConsumeStream" of service "ProgLog".
func NewConsumeStreamEndpoint(s Service) goa.Endpoint {
	return func(ctx context.Context, req interface{}) (interface{}, error) {
		ep := req.(*ConsumeStreamEndpointInput)
		return nil, s.ConsumeStream(ctx, ep.Stream)
	}
}
